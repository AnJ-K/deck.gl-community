"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[3301],{5680:(e,n,t)=>{t.d(n,{xA:()=>d,yg:()=>g});var r=t(6540);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=r.createContext({}),u=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},d=function(e){var n=u(e.components);return r.createElement(s.Provider,{value:n},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,d=a(e,["components","mdxType","originalType","parentName"]),c=u(t),m=o,g=c["".concat(s,".").concat(m)]||c[m]||p[m]||i;return t?r.createElement(g,l(l({ref:n},d),{},{components:t})):r.createElement(g,l({ref:n},d))}));function g(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,l=new Array(i);l[0]=m;var a={};for(var s in n)hasOwnProperty.call(n,s)&&(a[s]=n[s]);a.originalType=e,a[c]="string"==typeof e?e:o,l[1]=a;for(var u=2;u<i;u++)l[u]=t[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},8031:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>u});var r=t(8168),o=(t(6540),t(5680));const i={},l="Outline (Shader Module)",a={unversionedId:"modules/editable-layers/api-reference/shader-modules/outline",id:"modules/editable-layers/api-reference/shader-modules/outline",title:"Outline (Shader Module)",description:"The outline module is useful when you are rendering 2D elements in the same plane (on top of each other), but want to show some kind of outline or shadow to indicate which element is logically on top.",source:"@site/../docs/modules/editable-layers/api-reference/shader-modules/outline.md",sourceDirName:"modules/editable-layers/api-reference/shader-modules",slug:"/modules/editable-layers/api-reference/shader-modules/outline",permalink:"/deck.gl-community/docs/modules/editable-layers/api-reference/shader-modules/outline",draft:!1,editUrl:"https://github.com/visgl/deck.gl-community/tree/master/website/../docs/modules/editable-layers/api-reference/shader-modules/outline.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Editor Modes",permalink:"/deck.gl-community/docs/modules/editable-layers/api-reference/edit-modes"},next:{title:"Overview",permalink:"/deck.gl-community/docs/modules/graph-layers/"}},s={},u=[{value:"Usage",id:"usage",level:2},{value:"getUniforms",id:"getuniforms",level:2}],d={toc:u},c="wrapper";function p(e){let{components:n,...t}=e;return(0,o.yg)(c,(0,r.A)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"outline-shader-module"},"Outline (Shader Module)"),(0,o.yg)("p",null,"The ",(0,o.yg)("inlineCode",{parentName:"p"},"outline")," module is useful when you are rendering 2D elements in the same plane (on top of each other), but want to show some kind of outline or shadow to indicate which element is logically on top."),(0,o.yg)("p",null,'Implementation note: This module works by rendering your graphics into a sample "outline" shadow map, and then darkens the color on pixels in your graphics when they are drawn close to another object with a higher "logical z order", giving a shadow outline effect.'),(0,o.yg)("h2",{id:"usage"},"Usage"),(0,o.yg)("p",null,"Your vertex shader might look like:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"attribute vec3 position;\nattribute vec4 lineColor;\nattribute float zLevel;\n\nvarying vec4 vColor;\n\nvoid main() {\n  ...\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1);\n  vColor = lineColor;\n\n  ...\n\n  // Store info needed to render outline shadows\n  outline_setZLevel(zLevel);\n  outline_setUV(gl_Position);\n}\n")),(0,o.yg)("p",null,"And in the fragment shader:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"varying vec4 vColor;\n\nvoid main() {\n  gl_FragColor = vColor;\n\n  ...\n\n  // Render outline shadows\n  gl_FragColor = outline_filterColor(gl_FragColor);\n\n  ...\n}\n")),(0,o.yg)("h2",{id:"getuniforms"},"getUniforms"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"getUniforms({outlineRender, outlineShadowMap})")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"outlineRender")," (Boolean, ",(0,o.yg)("inlineCode",{parentName:"li"},"false"),") - set to ",(0,o.yg)("inlineCode",{parentName:"li"},"true"),' during the "outline map" rendering pass (i.e. specifies whether to render into or from the shadowmap).'),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"outlineShadowmap")," (",(0,o.yg)("inlineCode",{parentName:"li"},"Texture"),", required) -")))}p.isMDXComponent=!0}}]);